plt.figure(figsize=(12, 10))  # Increase the figure size for better readability
y_pos = range(len(table_stats_df['relname']))  # Generate a range for the y-axis positions
plt.barh(y_pos, table_stats_df['seq_scan'], label='Sequential Scans', color='skyblue')
plt.barh(y_pos, table_stats_df['idx_scan'], left=table_stats_df['seq_scan'], label='Index Scans', color='lightgreen')
plt.yticks(y_pos, table_stats_df['relname'])  # Use table names as labels on the y-axis
plt.xlabel('Scan Count')
plt.ylabel('Table Name')
plt.title('Sequential vs. Index Scans per Table')
plt.legend()
plt.tight_layout()
plt.savefig('table_scan_statistics.png')
plt.close()
