import sqlite3
import folium

# Path to your SQLite database
db_path = 'your_sqlite_database.db'

# Connect to the SQLite database
conn = sqlite3.connect(db_path)
cursor = conn.cursor()

# Query to select latitude and longitude from your table
query = "SELECT latitude, longitude FROM your_table_name"
cursor.execute(query)

# Fetch all results
rows = cursor.fetchall()

# Close the connection
conn.close()

# Create a map centered around the average coordinates
if rows:
    avg_lat = sum(row[0] for row in rows) / len(rows)
    avg_lon = sum(row[1] for row in rows) / len(rows)
    map = folium.Map(location=[avg_lat, avg_lon], zoom_start=12)

    # Add points to the map
    for row in rows:
        lat, lon = row
        folium.Marker(location=[lat, lon]).add_to(map)

    # Save the map to an HTML file
    map.save('map.html')
    print("Map has been saved as map.html")
else:
    print("No data found in the database.")
